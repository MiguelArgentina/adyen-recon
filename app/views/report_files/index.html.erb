<!-- app/views/report_files/index.html.erb -->
<div class="flex items-center justify-between mb-5">
  <div>
    <h1 class="text-lg font-semibold">Report uploads</h1>
    <p class="text-sm text-slate-600">Upload <em><a href="https://docs.adyen.com/reporting/standard-reports/balance-platform-statement-report" target="_blank" rel="noopener" class="underline decoration-dotted hover:decoration-solid">statement</a></em> or <em><a href="https://docs.adyen.com/reporting/standard-reports/accounting-report" target="_blank" rel="noopener" class="underline decoration-dotted hover:decoration-solid">accounting</a></em> CSVs. Weâ€™ll parse and summarize them.</p>
  </div>
  <%= link_to "Upload report", new_report_file_path, class: "btn btn-primary" %>
</div>

<% if @files.blank? %>
  <div class="card text-center">
    <i class="fa-regular fa-file icon icon-muted text-xl"></i>
    <h2 class="mt-2 font-medium">No uploads yet</h2>
    <p class="text-sm text-slate-600 mt-1">Upload your first CSV to get started.</p>
    <div class="mt-4"><%= link_to "Upload report", new_report_file_path, class: "btn btn-primary" %></div>
  </div>
<% else %>
  <div class="card overflow-hidden p-0">
    <table class="table">
      <thead>
      <tr>
        <th>When</th><th>Kind</th><th>Reported on</th><th>Currency</th><th>Status</th><th></th>
      </tr>
      </thead>
      <tbody>
      <% @files.each do |f| %>
        <tr>
          <td><%= l f.created_at, format: :short %></td>
          <td class="capitalize"><%= f.kind %></td>
          <td><%= f.reported_on %></td>
          <td><%= f.currency %></td>
          <td><%= status_badge(f.status) %></td>
          <td class="text-right">
            <%= link_to "Details", report_file_path(f), class: "text-[color:var(--primary)] hover:underline" %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
<% end %>
